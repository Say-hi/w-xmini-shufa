<view  class="position: relative;">
  <!--地图-->
  <image class="backImage pa"
         src="{{ backImageInfo.path }}"
         style="top: 0;left:0; width: {{ backImageInfo.fixWidth }}px; height: {{ backImageInfo.fixHeight }}px;"></image>

  <!--单张图片-->
  <view wx:for="{{ upImgArr }}"
        wx:key="*111"
        class="backImage pa"
        style="background: {{ item.bgc }};transform: scale({{ item.scale }}); top: {{ item.y }}px; left: {{ item.x }}px; width: {{ item.startWidth }}px; height: {{ item.startHeight }}px;">

    <!--四边-->
    <!--上边-->
    <image wx:for="{{ borderImageInfo.x }}"
           src="{{ borderImageInfo.path }}"
           class="pa"
           style="transform: rotate(45deg); top: {{ -borderImageInfo.width / 2 }}px; left: {{ (borderImageInfo.x - 1 - bIndex) * (borderImageInfo.angleWidth / 4) - (borderImageInfo.width / 2) }}px; width: {{ borderImageInfo.width }}px; height: {{ borderImageInfo.width }}px;"
           wx:key="*122"
           wx:for-item="bItem"
           wx:for-index="bIndex"></image>
    <!--右边-->
    <!--<image wx:for="{{ borderImageInfo.y }}"-->
           <!--src="{{ borderImageInfo.path }}"-->
           <!--class="pa"-->
           <!--style="transform: rotateX(180deg) rotateZ(225deg); top: {{ (borderImageInfo.y - 1 - bIndex) * (borderImageInfo.angleWidth / 2) - (borderImageInfo.width / 2) }}px; right: {{ -borderImageInfo.width / 2 }}px; width: {{ borderImageInfo.width }}px; height: {{ borderImageInfo.width }}px;"-->
           <!--wx:key="*122"-->
           <!--wx:for-item="bItem"-->
           <!--wx:for-index="bIndex"></image>-->



    <!--显示的图片-->
    <image src="{{ item.path }}" class="pa" style="top: 0px; left: 0px; width: {{ item.width }}px; height: {{ item.height }}px; border: {{ item.border.width }}px solid {{ item.border.color }};"></image>
  </view>
</view>

<canvas style="width: 1000px; height: 1000px; position: fixed; bottom: -200%;right:-200%;" canvas-id="outPic"></canvas>

<view hidden="1" class="bottomOp">
<view class="sliderArea df">
  <view class="cfff f28">{{ operationArr.tab[operationArr.chooseIndex].sliderText }}: {{ operationArr.tab[operationArr.chooseIndex].currentSlider }}</view>
  <slider bindchanging="sliderChanging" class="flex1" block-color="#ff0000" activeColor="#f1f1f1" backgroundColor="#a68f80" value="{{ operationArr.tab[operationArr.chooseIndex].currentSlider }}" min="{{ operationArr.tab[operationArr.chooseIndex].minSlider }}" max="{{ operationArr.tab[operationArr.chooseIndex].maxSlider }}"></slider>
</view>
<scroll-view class="tab-scroll bb borderScroll"
  scroll-with-animation="1"
  scroll-x="1"
  scroll-into-view="tab{{ tabBorderIndex - 1 }}">
    <view class="tab-inside">
      <button hover-class="none"
        class="tab-item br10 f25 cfff {{ tabBorderIndex == -1 ? 'active' : '' }} tr5 cff362c fw7"
        id="tab-1"
        catchtap="chooseIndex"
        data-type="border"
        data-index="-1">
      无边框
      </button>
      <button hover-class="none"
        class="tab-item f25 br10 cfff {{ tabBorderIndex == index ? 'active' : '' }} tr5"
        id="tab{{ index }}"
        catchtap="chooseIndex"
        data-type="border"
        data-index="{{ index }}"
        wx:key
        wx:for="{{ tabBorderArr }}">
      <image class="borderImg" mode="aspectFill" src="https://c.jiangwenqiang.com/lqsy/canvas_border_{{ index }}.jpg"></image>
      </button>
    </view>
</scroll-view>
  <view class="df tac p20 bgfff">
    <view wx:for="{{ operationArr.tab }}"
          wx:key="*78"
          catchtap="chooseType"
          data-index="{{ index }}"
          class="df flex1 bottomOpType">
      <image class="typeImg" src="{{ operationArr.chooseIndex == index ? item.imgChoose : item.img }}"></image>
      <text class="f33 mt10 {{ operationArr.chooseIndex == index ? 'c323232' : 'caaa' }}">{{ item.t }}</text>
    </view>
  </view>
  <view catchtap="canvasDraw" class="f34 lh90 cfff fw7 bottomOpSend tac">直接分享</view>
</view>
<!--错误弹窗-->
<toast toast="{{ toast }}"></toast>
